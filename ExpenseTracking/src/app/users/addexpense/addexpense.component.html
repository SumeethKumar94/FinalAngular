
<a href="/user" class="link" style="text-decoration: none; color:rgb(220, 100, 20);">Go Back</a>
<div class="form-group" >
    <label class="text-dark " style="font-weight: bold;">Category</label>
    <select id="dropdown" class="bg-success" name="cat_id" id="cat_id" class="form-control" #cat_id="ngModel" [(ngModel)]="newAttribute.Cat_id" required >
        <option [value]="null" disabled></option>
        <option    *ngFor="let cat of userservice.category" value="{{cat.CatId}}" [selected]="i==cat.CatId">{{cat.CatName}}</option> 
  
    </select>

    <!--validation --><div class="validation-errors" *ngIf="cat_id.invalid" style="color: red; text-align: left;">
        <div *ngIf="cat_id.errors.required">
           Category is required!
        </div>
    </div>
</div>
<form name="postform" #form="ngForm" autocomplete="off" (ngSubmit)="onSubmit()"> 
<div id="table">
<table class="table table-striped table-bordered">
    <thead  style="background-color: orangered;">
        <tr>
            <th>ItemId</th>
            <th>Item Name</th>
            <th>Item Price</th>
            <th>Item Bill Url</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody style="background-color: gold;">
        <tr *ngFor="let item of expArray; let i = index">
            <td>
                <input [(ngModel)]="item.Item_id" class="form-control" type="text" name="{{item.Item_id}}" readonly/>
            </td>
            <td>
                <input [(ngModel)]="item.Item_name" class="form-control" type="text" name="{{item.Item_name}}" [ngClass]="{'is-invalid': item.Item_name.touched && item.Item_name.invalid}" readonly />
            </td>
            <td>
                <input [(ngModel)]="item.Item_price" class="form-control" type="text" name="{{item.Item_price}}" readonly/>
            </td>
            <td>
                <input [(ngModel)]="item.Item_bill" class="form-control" type="text" name="{{item.Item_bill}}" readonly/>
            </td>
            <td>
                <button class="btn btn-outline-danger"  type="button" (click)="deleteFieldValue(i)" >X</button>
            </td>
        </tr>
        <tr>
            <td>
                <input class="form-control" type="hidden" id="ItemId" [(ngModel)]="newAttribute.Item_id" name="Item_id"  readonly/>
            </td>
            <td>
                <input class="form-control" type="text" id="ItemName" [(ngModel)]="newAttribute.Item_name" name="Item_name"  placeholder="Enter a Item"  text="Add Title " required/>
            </td>
            <td>
                <input class="form-control" type="number" id="ItemPrice" [(ngModel)]="newAttribute.Item_price" name="Item_price" placeholder="Enter Price" required/>
            </td>
            <td>
                <input class="form-control" type="text" id="ItemBill" [(ngModel)]="newAttribute.Item_bill" name="Item_bill" placeholder="Enter Bill url" required/>
            </td>

            <td>
                <button id="#addBtn" class="btn btn-outline-success" type="button" (click)="addFieldValue();" [disabled]="!(form.valid && form.dirty && cat_id.valid )">+</button>
            </td>
        </tr>
        
          
   
    </tbody>
</table>
</div>
<br><br>
<label>Expense Date:</label>
&nbsp;&nbsp;<input type="date" [ngModel] ="expdate | date:'yyyy-MM-dd'" (ngModelChange)="expdate = $event" name="expense_date"><br><br><br>
<div style="display: flex; justify-content:center;">
<button class="btn btn-lg btn-outline-warning" style="border:2px solid orangered;" type="submit"   >Add Expense</button>
</div>
</form>

